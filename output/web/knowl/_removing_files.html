<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<section class="paragraphs"><h4 class="heading"><span class="title">Removing Files.</span></h4>
<p>To remove a file from Git, you have to remove it from your tracked files (more accurately, remove it from your staging area) and then commit. The <code class="code-inline tex2jax_ignore">git rm</code> command does that, and also removes the file from your working directory so you don’t see it as an untracked file the next time around.</p>
<p>If you simply remove the file from your working directory, it shows up under the “Changes not staged for commit” (that is, <em class="emphasis">unstaged</em>) area of your <code class="code-inline tex2jax_ignore">git status</code> output:</p>
<pre class="code-block tex2jax_ignore">$ rm PROJECTS.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        deleted:    PROJECTS.md

no changes added to commit (use "git add" and/or "git commit -a")
</pre>
<p>Then, if you run <code class="code-inline tex2jax_ignore">git rm</code>, it stages the file’s removal:</p>
<pre class="code-block tex2jax_ignore">$ git rm PROJECTS.md
rm 'PROJECTS.md'
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    deleted:    PROJECTS.md
</pre>
<p>The next time you commit, the file will be gone and no longer tracked. If you modified the file or had already added it to the staging area, you must force the removal with the <code class="code-inline tex2jax_ignore">-f</code> option. This is a safety feature to prevent accidental removal of data that hasn’t yet been recorded in a snapshot and that can’t be recovered from Git.</p>
<p>Another useful thing you may want to do is to keep the file in your working tree but remove it from your staging area. In other words, you may want to keep the file on your hard drive but not have Git track it anymore. This is particularly useful if you forgot to add something to your <code class="code-inline tex2jax_ignore">.gitignore</code> file and accidentally staged it, like a large log file or a bunch of <code class="code-inline tex2jax_ignore">.a</code> compiled files. To do this, use the <code class="code-inline tex2jax_ignore">--cached</code> option:</p>
<pre class="code-block tex2jax_ignore">$ git rm --cached README
</pre>
<p>You can pass files, directories, and file-glob patterns to the <code class="code-inline tex2jax_ignore">git rm</code> command. That means you can do things such as:</p>
<pre class="code-block tex2jax_ignore">$ git rm log/\*.log
</pre>
<p>Note the backslash (<code class="code-inline tex2jax_ignore">\</code>) in front of the <code class="code-inline tex2jax_ignore">*</code>. This is necessary because Git does its own filename expansion in addition to your shell’s filename expansion. This command removes all files that have the <code class="code-inline tex2jax_ignore">.log</code> extension in the <code class="code-inline tex2jax_ignore">log/</code> directory. Or, you can do something like this:</p>
<pre class="code-block tex2jax_ignore">$ git rm \*~
</pre>
<p>This command removes all files whose names end with a <code class="code-inline tex2jax_ignore">~</code>.</p></section><span class="incontext"><a href="sec_git_basics.html#_removing_files" class="internal">in-context</a></span>
</body>
</html>
